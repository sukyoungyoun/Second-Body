<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Imprint – Second Body</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  background: #000;
  color: #fff;
  font-family: 'Source Serif 4', serif;
  overflow-x: hidden;
  position: relative;
}

#background {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
  pointer-events: none;
}

.intro { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; text-align: center; padding: 1rem; }
.intro-line { opacity: 0; font-size: 2rem; margin: 0.5rem 0; animation: fadeIn 1s forwards; }
.line1 { animation-delay: 0.5s; }
.line2 { animation-delay: 1.5s; font-size: 1.2rem; color: #ccc; }
.line3 { animation-delay: 2.5s; font-size: 1.1rem; color: #aaa; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

#scan-pad { margin-top: 2rem; width: 200px; height: 200px; border: 3px dashed #555; border-radius: 20px; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: background 0.3s, opacity 0.6s; opacity: 0; }
#scan-pad.visible { opacity: 1; }
#scan-pad:hover { background: rgba(255,255,255,0.1); }

#gallery { display: none; padding: 2rem; min-height: 100vh; display: grid; gap: 1rem; justify-content: center; align-items: center; }
@media (min-width: 1025px) { #gallery { grid-template-columns: repeat(5, 1fr); } }
@media (min-width: 768px) and (max-width: 1024px) { #gallery { grid-template-columns: repeat(4, 1fr); } }
@media (max-width: 767px) { #gallery { grid-template-columns: repeat(2, 1fr); } }

.card { perspective: 1000px; }
.card-inner { position: relative; width: 100%; padding-top: 100%; transform-style: preserve-3d; transition: transform 0.6s; }
.card:hover .card-inner, .card.flip .card-inner { transform: rotateY(180deg); }
.card-front, .card-back { position: absolute; top: 0; left: 0; width: 100%; height: 100%; backface-visibility: hidden; border: 2px solid #444; border-radius: 12px; overflow: hidden; display: flex; justify-content: center; align-items: center; }
.card-front img { width: 100%; height: 100%; object-fit: cover; }
.card-back { background: #111; transform: rotateY(180deg); font-size: 0.9rem; color: #0f0; text-align: center; padding: 0.5rem; }

/* Info button */
#info-btn {
  position: fixed; top: 1rem; right: 1rem;
  width: 50px; height: 50px;
  border: 2px solid #fff;
  border-radius: 50%;
  display: flex; justify-content: center; align-items: center;
  cursor: pointer; font-size: 1.5rem; z-index: 10;
  color: #fff; background: transparent;
  transition: background 0.3s;
}
#info-btn:hover { background: rgba(255,255,255,0.1); }

/* Info modal */
#info-modal { 
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.95); 
  color: #fff;
  display: none; 
  justify-content: center; 
  align-items: center;
  padding: 2rem; 
  text-align: center; 
  z-index: 20; 
  overflow-y: auto; /* allows scrolling on small screens */
  flex-direction: column; /* stack content */
}

#info-modal p { 
  max-width: 90%; 
  width: clamp(300px, 90%, 600px);
  font-size: clamp(1rem, 2vw, 1.2rem);
  line-height: 1.6; 
  margin: 0 auto; /* center text */
  word-wrap: break-word; /* prevent overflow */
}

#info-modal-close {
  position: fixed; 
  top: 1rem; right: 1rem;
  width: 50px; height: 50px;
  border: 2px solid #fff;
  border-radius: 50%;
  display: flex; justify-content: center; align-items: center;
  cursor: pointer; font-size: 1.5rem;
  color: #fff; background: transparent;
  z-index: 30;
  transition: background 0.3s, color 0.3s;
}
#info-modal-close:hover { background: rgba(255,255,255,0.1); color: #ff5555; }

@media(max-width: 480px){
  #info-modal p { font-size: 1rem; }
  #info-modal-close { width: 40px; height: 40px; font-size: 1.2rem; }
}

</style>
</head>
<body>
<canvas id="background"></canvas>

<div class="intro" id="intro">
  <div class="intro-line line1">Welcome to our Imprint.</div>
  <div class="intro-line line2">Step inside our internet history by Sukyoung x Cara</div>
  <div class="intro-line line3">Scan your finger</div>
  <div id="scan-pad">Tap to Scan</div>
</div>

<div id="gallery"></div>

<div id="info-btn">i</div>

<div id="info-modal">
  <span id="info-modal-close">&times;</span>
  <p>Each of these 20 fingerprints carries a trace of our second bodies across the internet—places we’ve visited, spaces we’ve touched, moments we’ve left behind. The IP addresses are not just numbers; they map our digital presence, showing how our second bodies quietly extend into countless online spaces beyond ourselves.</p>
</div>

<script>
// Fingerprint-grain background
const canvas = document.getElementById('background');
const ctx = canvas.getContext('2d');
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

const particles = [];
const PARTICLE_COUNT = 600;
for (let i = 0; i < PARTICLE_COUNT; i++) {
  particles.push({
    x: Math.random() * width,
    y: Math.random() * height,
    radius: Math.random() * 1.5 + 0.5,
    angle: Math.random() * Math.PI * 2,
    speed: Math.random() * 0.2 + 0.05,
    opacity: Math.random() * 0.5 + 0.1,
  });
}

let mouse = { x: width/2, y: height/2 };
window.addEventListener('mousemove', e => { mouse.x = e.clientX; mouse.y = e.clientY; });

function drawParticles() {
  ctx.fillStyle = 'rgba(0,0,0,0.1)';
  ctx.fillRect(0, 0, width, height);

  particles.forEach(p => {
    p.x += Math.cos(p.angle + Math.random()*0.5) * p.speed;
    p.y += Math.sin(p.angle + Math.random()*0.5) * p.speed;
    p.opacity += (Math.random()-0.5)*0.02;
    if (p.opacity > 0.6) p.opacity = 0.6;
    if (p.opacity < 0.1) p.opacity = 0.1;

    const dx = p.x - mouse.x;
    const dy = p.y - mouse.y;
    const dist = Math.sqrt(dx*dx + dy*dy);
    if(dist < 100){
      p.x += dx/dist * 0.7;
      p.y += dy/dist * 0.7;
    }

    if (p.x < 0) p.x = width;
    if (p.x > width) p.x = 0;
    if (p.y < 0) p.y = height;
    if (p.y > height) p.y = 0;

    ctx.beginPath();
    ctx.arc(p.x, p.y, p.radius, 0, Math.PI*2);
    ctx.fillStyle = `rgba(255,255,255,${p.opacity})`;
    ctx.fill();
  });

  requestAnimationFrame(drawParticles);
}

drawParticles();
window.addEventListener('resize', () => {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
});

// Scan pad and gallery (cards generated only on click)
const scanPad = document.getElementById("scan-pad");
const intro = document.getElementById("intro");
const gallery = document.getElementById("gallery");
setTimeout(()=>{ scanPad.classList.add('visible'); },3500);

function generateIP() { 
  return `${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}`;
}

scanPad.addEventListener("click", () => {
  intro.style.display = "none";
  // generate gallery cards dynamically
  for (let i = 1; i <= 20; i++) {
    const card = document.createElement("div");
    card.className = "card";
    const inner = document.createElement("div");
    inner.className = "card-inner";

    const front = document.createElement("div");
    front.className = "card-front";
    const img = document.createElement("img");
    img.src = `f${i}.png`; // relative path in repo
    front.appendChild(img);

    const back = document.createElement("div");
    back.className = "card-back";
    back.textContent = generateIP();

    inner.appendChild(front);
    inner.appendChild(back);
    card.appendChild(inner);

    card.addEventListener("click", () => { card.classList.toggle("flip"); });
    gallery.appendChild(card);
  }
  gallery.style.display = "grid";
});

// Info modal functionality
const infoBtn = document.getElementById('info-btn');
const infoModal = document.getElementById('info-modal');
const infoClose = document.getElementById('info-modal-close');

infoBtn.addEventListener('click', () => { infoModal.style.display = 'flex'; });
infoClose.addEventListener('click', () => { infoModal.style.display = 'none'; });
document.addEventListener('keydown', (e) => { if(e.key==='Escape'){ infoModal.style.display='none'; } });
</script>
</body>
</html>

